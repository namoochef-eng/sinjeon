<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Sinjeon Catering Order Form</title>
<style>
/* ---------------------------------------------------- */
/* Global Styles */
/* ---------------------------------------------------- */
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; max-width: 1000px; margin: 0 auto; padding: 20px; line-height: 1.6; background-color: #f9f9f9; color: #333; }
h1 { text-align: center; margin-bottom: 20px; font-size: 1.8em; color: #333; }
h2 { font-size: 1.4em; color: #222; margin-bottom: 15px; }
label { font-weight: bold; font-size: 1em; margin-bottom: 5px; display: block; }

/* input styling */
input:not([type="checkbox"]), select, textarea { width: 100%; padding: 12px; margin-top: 5px; margin-bottom: 15px; font-size: 16px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 8px; background-color: #fff; appearance: none; -webkit-appearance: none; }

input[type="checkbox"] {
    width: auto !important;
    height: auto !important;
    margin: 0 !important;
    appearance: checkbox !important; 
    -webkit-appearance: checkbox !important;
}

.info-section { background-color: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); margin-bottom: 25px; }

/* Select dropdown styling */
.select-wrapper { position: relative; }
.select-wrapper::after { content: 'â–¼'; position: absolute; right: 15px; top: 45%; transform: translateY(-50%); pointer-events: none; font-size: 0.8em; color: #666; }

/* Buttons */
button { font-size: 1em; border: none; cursor: pointer; transition: background 0.2s; }
#confirmBranchBtn { width: 100%; padding: 15px; background-color: #333; color: white; border-radius: 8px; font-size: 1.1em; margin-bottom: 20px; margin-top: -10px; }
#generatePlattersBtn { padding: 10px 20px; background-color: #4CAF50; color: white; border-radius: 6px; }
#submitBtn { width: 100%; padding: 15px; background-color: #007bff; color: white; border-radius: 8px; font-size: 1.2em; margin-top: 20px; }

/* Platter & Items */
.platter-instance { background-color: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); margin-bottom: 20px; border: 1px solid #eee; }
.kimbap-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #f0f0f0; }
.kimbap-item:last-child { border-bottom: none; }
.kimbap-item span { flex: 1; font-weight: 500; font-size: 0.95em; padding-right: 10px; }
.counter-box { display: flex; align-items: center; }
.counter-box button { width: 35px; height: 35px; border-radius: 50%; background-color: #e0e0e0; font-weight: bold; display: flex; justify-content: center; align-items: center; padding: 0; }
.counter-box .count { margin: 0 10px; font-weight: bold; min-width: 20px; text-align: center; }

/* Hidden sections */
#dateTimeSection, #platterQuantitySection, #platterContainer, #totalPriceDisplay, #customerInfo, #submitBtn, #paymentInfo { display: none; }

.is-visible { display: block !important; animation: fadeIn 0.5s; }
.is-flex { display: flex !important; animation: fadeIn 0.5s; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

#platterQuantitySection { 
    background-color: #e8f5e9; 
    padding: 20px; 
    border-radius: 12px; 
    margin-bottom: 20px;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
}

.platter-count-controls { display: flex; align-items: center; background: white; padding: 5px; border-radius: 8px; }
.platter-count-controls button { width: 40px; height: 40px; background: #eee; border-radius: 6px; }
.platter-count-controls span { margin: 0 15px; font-weight: bold; font-size: 1.2em; }

.totalPrice { font-weight: bold; font-size: 1.4em; margin-top: 20px; text-align: right; color: #d9534f; background-color: #fff0f0; padding: 15px; border-radius: 8px; border: 1px solid #ffcccc; }
.surcharge-info { font-size: 0.6em; color: #d9534f; display: block; font-weight: normal; margin-top: 5px; }

/* Payment info */
#paymentInfo {
    background-color: #f0f8ff;
    padding: 20px;
    border-radius: 12px;
    border: 1px solid #b3e5fc;
    margin-top: 25px;
    line-height: 1.5;
}
#paymentInfo h2 {
    color: #00796b;
    border-bottom: 2px solid #00bcd4;
    padding-bottom: 10px;
    margin-bottom: 15px;
}

.bank-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
    font-size: 0.9em;
}
.bank-table th, .bank-table td {
    border: 1px solid #ddd;
    padding: 10px 8px;
    text-align: left;
}
.bank-table th {
    background-color: #e0f7fa;
    font-weight: bold;
    color: #00796b;
}
.bank-table td {
    background-color: #fff;
    word-break: break-all;
}

.warning-note {
    background-color: #ffccbc;
    color: #d32f2f;
    padding: 10px;
    border-radius: 6px;
    margin-top: 15px;
    font-weight: bold;
    font-size: 0.9em;
}

/* ---------------------------------------------------- */
/* â­ MOBILE FIXED VERSION â€” ì•ˆë‚´ë¬¸êµ¬/ê³„ì¢Œë²ˆí˜¸ ì˜ë¦¼ í•´ê²°! */
/* ---------------------------------------------------- */
@media (max-width: 600px) {

  #platterQuantitySection { flex-direction: column; align-items: stretch; gap: 15px; }
  .platter-count-controls { justify-content: space-between; width: 100%; }
  #generatePlattersBtn { width: 100%; margin-left: 0; margin-top: 10px; padding: 15px; }

  /* â˜… í…Œì´ë¸”ì„ ëª¨ë°”ì¼ ì¹´ë“œí˜•ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ë³€ê²½ */
  .bank-table, .bank-table tbody, .bank-table tr, .bank-table td, .bank-table th {
    display: block;
    width: 100%;
  }

  .bank-table thead { display: none; }

  .bank-table tr {
    margin-bottom: 10px;
    border: 1px solid #ddd;
    border-radius: 8px;
    overflow: hidden;
    padding: 10px;
  }

  .bank-table td {
    text-align: left;
    padding: 6px 4px;
    word-break: break-word;    /* ê¸´ ê³„ì¢Œë²ˆí˜¸ ì¤„ë°”ê¿ˆ */
    white-space: normal;       /* í…ìŠ¤íŠ¸ ê°•ì œ í•œì¤„ ê¸ˆì§€ */
  }

  .bank-table td::before {
    content: attr(data-label);
    display: block;
    font-weight: bold;
    color: #00796b;
    margin-bottom: 4px;
  }
}
</style>
</head>
<body>

<div class="info-section">
    <h1>Sinjeon Catering Order</h1>
    <p style="text-align: center; color: #666; font-size: 0.9em;">VIC Only | Order 24hr in Advance</p>
</div>

<div id="step1">
    <label for="branchSelect">1. Select Branch</label>
    <div class="select-wrapper">
        <select id="branchSelect">
            <option value="none">-- Choose Location --</option>
            <option value="CBD">CBD</option>
            <option value="NorthMelbourne">North Melbourne</option>
            <option value="Carnegie">Carnegie</option>
            <option value="SummerHill">Summer Hill</option>
            <option value="Hawthorn">Hawthorn</option>
            <option value="Seddon">Seddon</option>
        </select>
    </div>
    
    <div id="dateTimeSection">
        <label for="pickupDate">Pickup Date (Minimum 24h Notice)</label>
        <input type="date" id="pickupDate" required>
        
        <label for="pickupTime">Pickup Time (11:30 AM - 8:45 PM)</label>
        <div class="select-wrapper">
            <select id="pickupTime">
                <option value="none">-- Select Time --</option>
            </select>
        </div>
    </div>

    <button id="confirmBranchBtn">Next Step (Start Order)</button>
</div>

<div id="platterQuantitySection">
    <label style="margin:0;">2. Number of Platters</label>
    <div class="platter-count-controls">
        <button id="decreasePlatter">-</button>
        <span id="platterCount">1</span>
        <button id="increasePlatter">+</button>
    </div>
    <button id="generatePlattersBtn">Set Platters &rarr;</button>
</div>

<div id="platterContainer"></div>

<div class="totalPrice" id="totalPriceDisplay">
    Total: A$0
    <span class="surcharge-info" id="surchargeMsg"></span>
</div>

<div id="customerInfo">
    <h2>3. Your Details</h2>
    <label>Name</label> <input type="text" id="custName" placeholder="Required" required>
    <label>Phone</label> <input type="text" id="custPhone" placeholder="Required" required>
    <label>Email</label> <input type="email" id="custEmail" placeholder="Required" required>
    <label>Notes</label> <textarea id="custNotes" rows="3"></textarea>
</div>

<div id="paymentInfo">
    <h2><span style="font-size: 1.2em;">ğŸ§¾</span> Order and Bank Transfer Information</h2>
    <p>Dear Customer,</p>
    <p>For orders of <strong>A$100 or more</strong>, please transfer the full amount to the bank account corresponding to the location you are ordering from.</p>

    <ul style="list-style-type: disc; margin-left: 20px;">
        <li><strong>Transfer:</strong> Send the full amount to the relevant account number below.</li>
        <li><strong>Email Receipt:</strong> After the transfer, please email your receipt to <strong>adm.sinjeon.melb@gmail.com</strong>.</li>
    </ul>
    
    <p style="font-style: italic; margin-top: 10px;">Your order will be confirmed once we receive and verify the payment.</p>

    <table class="bank-table">
        <thead>
            <tr>
                <th>Store Location</th>
                <th>Bank Account Name</th>
                <th>BSB Number</th>
                <th>Account Number</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td data-label="Store Location">CBD, North Melbourne</td>
                <td data-label="Bank Account Name">CBA / NEMO2</td>
                <td data-label="BSB Number">063-023</td>
                <td data-label="Account Number">1029 7309</td>
            </tr>
            <tr>
                <td data-label="Store Location">Carnegie</td>
                <td data-label="Bank Account Name">ANZ / Seoul2melb Ptd Lty</td>
                <td data-label="BSB Number">013-132</td>
                <td data-label="Account Number">6438 58238</td>
            </tr>
            <tr>
                <td data-label="Store Location">Summer Hill</td>
                <td data-label="Bank Account Name">CBA / Summer Hill</td>
                <td data-label="BSB Number">062-692</td>
                <td data-label="Account Number">8276 2047</td>
            </tr>
        </tbody>
    </table>

    <div class="warning-note">
        âš ï¸ <strong>Note:</strong> If you require account information for other locations not listed above, please contact us via email, and we will reply promptly.
    </div>
</div>

<button id="submitBtn">Send Order via Email</button>

<script>
const branchSelect = document.getElementById('branchSelect');
const dateTimeSection = document.getElementById('dateTimeSection');
const pickupDateInput = document.getElementById('pickupDate');
const pickupTimeSelect = document.getElementById('pickupTime');
const confirmBranchBtn = document.getElementById('confirmBranchBtn');
const platterQuantitySection = document.getElementById('platterQuantitySection');
const platterCountEl = document.getElementById('platterCount');
const increasePlatter = document.getElementById('increasePlatter');
const decreasePlatter = document.getElementById('decreasePlatter');
const generatePlattersBtn = document.getElementById('generatePlattersBtn');
const platterContainer = document.getElementById('platterContainer');
const customerInfo = document.getElementById('customerInfo');
const submitBtn = document.getElementById('submitBtn');
const totalPriceDisplay = document.getElementById('totalPriceDisplay');
const surchargeMsg = document.getElementById('surchargeMsg');
const paymentInfo = document.getElementById('paymentInfo');

let branch = 'none';

/* ë‚ ì§œ ì´ˆê¸°í™” */
function initDateTime() {
    const today = new Date();
    today.setDate(today.getDate() + 1);
    pickupDateInput.min = today.toISOString().split('T')[0];

    let hour = 11;
    let minute = 30;

    while (hour < 21) {
        if (hour === 20 && minute > 45) break;

        const m = String(minute).padStart(2, '0');
        const val = `${String(hour).padStart(2,'0')}:${m}`;
        const dispHour = hour > 12 ? hour - 12 : hour;
        const ampm = hour >= 12 ? 'PM' : 'AM';

        const opt = document.createElement('option');
        opt.value = val;
        opt.textContent = `${dispHour}:${m} ${ampm}`;
        pickupTimeSelect.appendChild(opt);

        minute += 15;
        if (minute === 60) {
            minute = 0;
            hour++;
        }
    }
}
initDateTime();

branchSelect.addEventListener('change', () => {
    dateTimeSection.style.display = branchSelect.value !== 'none' ? 'block' : 'none';
    branch = branchSelect.value;
});

pickupDateInput.addEventListener('change', updateTotal);

confirmBranchBtn.addEventListener('click', () => {
    if (branch === 'none') return alert('Please select a branch.');
    if (!pickupDateInput.value) return alert('Please select a pickup date.');
    if (pickupTimeSelect.value === 'none') return alert('Please select pickup time.');

    platterQuantitySection.classList.add('is-flex');

    platterContainer.innerHTML = '';
    platterContainer.classList.remove('is-visible');
    totalPriceDisplay.classList.remove('is-visible');
    customerInfo.classList.remove('is-visible');
    paymentInfo.classList.remove('is-visible');
    submitBtn.classList.remove('is-visible');

    platterCountEl.textContent = '1';
});

increasePlatter.addEventListener('click', () => {
    const val = parseInt(platterCountEl.textContent);
    if (val < 20) platterCountEl.textContent = val + 1;
});
decreasePlatter.addEventListener('click', () => {
    const val = parseInt(platterCountEl.textContent);
    if (val > 1) platterCountEl.textContent = val - 1;
});

generatePlattersBtn.addEventListener('click', () => {

    platterContainer.innerHTML = '';
    const qty = parseInt(platterCountEl.textContent);

    for (let i = 1; i <= qty; i++) {
        const div = document.createElement('div');
        div.className = 'platter-instance';

        div.innerHTML = `
            <label style="color:#007bff; margin-bottom:10px;">Platter #${i} Selection</label>
            <div class="select-wrapper">
                <select class="platterType">
                    <option value="none" data-price="0">-- Select Type --</option>
                    <option value="paradise" data-price="55">Kimbap Paradise ($55)</option>
                    <option value="kfc" data-price="65">Kimbap & KFC ($65)</option>
                    <option value="vego" data-price="65">Vego Party ($65)</option>
                </select>
            </div>
            <div class="options-area"></div>
        `;

        platterContainer.appendChild(div);

        const sel = div.querySelector('.platterType');
        const optionsArea = div.querySelector('.options-area');

        sel.addEventListener('change', () => {
            optionsArea.innerHTML = '';

            const type = sel.value;

            if (type === 'paradise' || type === 'kfc') {
                const max = type === 'paradise' ? 5 : 3;
                optionsArea.innerHTML = `<p style="font-size:0.9em; color:#666; margin:10px 0;">Pick <strong>${max}</strong> Kimbaps (Must select exactly ${max}):</p>`;

                let list = ['Beef Bulgogi (+$1)', 'Sausage/Spam', 'Tuna Mayo', 'Tofu', 'Fried Chicken (+$1)'];

                list.forEach(k => {
                    let disp = k;

                    // â­ [ìˆ˜ì •ë¨] CBD, North Melbourne ì§€ì ì€ Sausage/Spam í•­ëª© ì œì™¸
                    if (k.includes('Sausage/Spam')) {
                        if (branch === 'CBD' || branch === 'NorthMelbourne') {
                            return; // ì´ í•­ëª©ì€ ìƒì„±í•˜ì§€ ì•Šê³  ê±´ë„ˆëœ€
                        }
                        if (branch === 'Carnegie' || branch === 'Seddon' || branch === 'Hawthorn') disp = 'Spam Kimbap';
                        else if (branch === 'SummerHill') disp = 'Smoke Kimbap';
                        else disp = 'Beef Sausage Kimbap';
                    }

                    const row = document.createElement('div');
                    row.className = 'kimbap-item';

                    row.innerHTML = `
                        <span>${disp}</span>
                        <div class="counter-box">
                            <button class="minus">-</button>
                            <span class="count">0</span>
                            <button class="plus">+</button>
                        </div>
                    `;

                    optionsArea.appendChild(row);

                    const cntEl = row.querySelector('.count');

                    row.querySelector('.plus').addEventListener('click', () => {
                        let total = 0;
                        optionsArea.querySelectorAll('.count').forEach(c => total += parseInt(c.textContent));
                        if (total < max) cntEl.textContent = parseInt(cntEl.textContent) + 1;
                        else alert(`Max ${max} items allowed.`);
                        updateTotal();
                    });

                    row.querySelector('.minus').addEventListener('click', () => {
                        if (parseInt(cntEl.textContent) > 0) cntEl.textContent = parseInt(cntEl.textContent) - 1;
                        updateTotal();
                    });
                });
            }

            if (type === 'kfc') {
                const divSauce = document.createElement('div');
                divSauce.style.marginTop = '15px';
                divSauce.innerHTML = `
                    <label>Sauce (Pick up to 2):</label>
                    <div class="sauce-options" style="display:flex; gap:10px; flex-wrap:wrap;">
                        <label><input type="checkbox" class="kfcSauceOption" value="Sweet Chili"> Sweet Chili</label>
                        <label><input type="checkbox" class="kfcSauceOption" value="Honey Soy"> Honey Soy</label>
                        <label><input type="checkbox" class="kfcSauceOption" value="Plain"> Plain</label>
                    </div>
                `;
                optionsArea.appendChild(divSauce);

                const chk = divSauce.querySelectorAll('.kfcSauceOption');
                chk.forEach(c => {
                    c.addEventListener('change', () => {
                        let selected = Array.from(chk).filter(x => x.checked).length;
                        if (selected > 2) {
                            alert("You can select up to 2 sauces.");
                            c.checked = false;
                        }
                    });
                });
            }

            if (type === 'vego') {
                optionsArea.innerHTML = `
                    <div style="background:#f4f4f4; padding:10px; border-radius:8px; font-size:0.9em;">
                        â€¢ 3 Tofu Kimbap<br>â€¢ 8 Dumplings<br>â€¢ 8 Seaweed Rolls<br>â€¢ Salad
                    </div>
                `;
            }

            updateTotal();
        });
    }

    platterContainer.classList.add('is-visible');
    totalPriceDisplay.classList.add('is-visible');
    customerInfo.classList.add('is-visible');
    paymentInfo.classList.add('is-visible');
    submitBtn.classList.add('is-visible');

    updateTotal();
});

function updateTotal() {
    let base = 0;

    document.querySelectorAll('.platter-instance').forEach(inst => {
        const sel = inst.querySelector('.platterType');
        if (!sel || sel.value === 'none') return;

        let p = parseFloat(sel.selectedOptions[0].dataset.price);

        inst.querySelectorAll('.kimbap-item').forEach(item => {
            const name = item.querySelector('span').textContent;
            const cnt = parseInt(item.querySelector('.count').textContent);

            if (name.includes('Beef') || name.includes('Chicken')) p += cnt * 1;
        });

        base += p;
    });

    let rate = 0;
    let msg = "";
    const date = pickupDateInput.value;

    if (date) {
        const d = new Date(date.replace(/-/g, '/'));
        const day = d.getDay();
        if (day === 6) { rate = 0.05; msg = "(Includes 5% Saturday Surcharge)"; }
        if (day === 0) { rate = 0.10; msg = "(Includes 10% Sunday Surcharge)"; }
    }

    totalPriceDisplay.innerHTML = `Total: A$${(base + base * rate).toFixed(2)} <span class="surcharge-info">${msg}</span>`;
}

function collectOrderDetails() {
    const branch = branchSelect.value;
    const date = pickupDateInput.value;
    const timeText = pickupTimeSelect.options[pickupTimeSelect.selectedIndex].text;

    const name = custName.value.trim();
    const phone = custPhone.value.trim();
    const email = custEmail.value.trim();
    const notes = custNotes.value.trim() || "None";

    if (!branch || branch === 'none' || !date || pickupTimeSelect.value === 'none' || !name || !phone || !email) {
        alert("Please fill all required fields.");
        return null;
    }

    let txt = "--- SINJEON CATERING ORDER DETAILS ---\n\n";
    txt += `[1. PICKUP DETAILS]\nBranch: ${branch}\nDate: ${date}\nTime: ${timeText}\n\n`;
    txt += `[2. CUSTOMER DETAILS]\nName: ${name}\nPhone: ${phone}\nEmail: ${email}\nNotes: ${notes}\n\n`;

    txt += `[3. PLATTER ORDER (${platterCountEl.textContent} Platters)]\n`;

    let idx = 1;
    // forEach ì•ˆì—ì„œ returnì„ í•´ë„ ìƒìœ„ í•¨ìˆ˜ê°€ ë©ˆì¶”ì§€ ì•Šìœ¼ë¯€ë¡œ, ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìœ„í•œ í”Œë˜ê·¸ ì‚¬ìš©
    let isValid = true;

    // NodeListëŠ” forEachê°€ breakê°€ ì•ˆë˜ë¯€ë¡œ ì¼ë°˜ forë¬¸ìœ¼ë¡œ ë³€ê²½í•˜ê±°ë‚˜, ì˜ˆì™¸ë¥¼ ë˜ì ¸ì•¼ í•¨.
    // ì—¬ê¸°ì„œëŠ” ë£¨í”„ë¥¼ ëŒë©´ì„œ validation checkë¥¼ ë¨¼ì € ìˆ˜í–‰
    const platters = document.querySelectorAll('.platter-instance');
    
    // 1ì°¨: ìœ íš¨ì„± ê²€ì‚¬ ë£¨í”„
    for (let i = 0; i < platters.length; i++) {
        const inst = platters[i];
        const sel = inst.querySelector('.platterType');
        const type = sel.value;
        const currentPlatterIdx = i + 1;

        if (type === 'paradise' || type === 'kfc') {
            let totalKimbap = 0;
            inst.querySelectorAll('.kimbap-item').forEach(item => {
                totalKimbap += parseInt(item.querySelector('.count').textContent);
            });

            // â­ [ìˆ˜ì •ë¨] ê¹€ë°¥ íŒŒë¼ë‹¤ì´ìŠ¤ëŠ” ì •í™•íˆ 5ê°œì—¬ì•¼ í•¨
            if (type === 'paradise' && totalKimbap !== 5) {
                alert(`Platter #${currentPlatterIdx} (Kimbap Paradise): Please select exactly 5 Kimbaps. (Current: ${totalKimbap})`);
                return null;
            }
            // â­ [ìˆ˜ì •ë¨] ê¹€ë°¥ & KFCëŠ” ì •í™•íˆ 3ê°œì—¬ì•¼ í•¨
            if (type === 'kfc' && totalKimbap !== 3) {
                alert(`Platter #${currentPlatterIdx} (Kimbap & KFC): Please select exactly 3 Kimbaps. (Current: ${totalKimbap})`);
                return null;
            }
        }
    }

    // 2ì°¨: í…ìŠ¤íŠ¸ ìƒì„± ë£¨í”„ (ê²€ì‚¬ í†µê³¼ í›„)
    platters.forEach(inst => {
        const sel = inst.querySelector('.platterType');
        const typeText = sel.selectedOptions[0].text;

        txt += `--- Platter #${idx} (${typeText}) ---\n`;

        if (sel.value === 'paradise' || sel.value === 'kfc') {
            txt += "Kimbap Selection:\n";

            inst.querySelectorAll('.kimbap-item').forEach(item => {
                const raw = item.querySelector('span').textContent;
                const clean = raw.replace(/\s*\(\+\$.*?\)\s*/g, '');
                const cnt = parseInt(item.querySelector('.count').textContent);
                if (cnt > 0) txt += `  - ${clean}: ${cnt}\n`;
            });

            if (sel.value === 'kfc') {
                let sauces = [];
                inst.querySelectorAll('.kfcSauceOption:checked').forEach(s => sauces.push(s.value));
                txt += `KFC Sauce: ${sauces.length ? sauces.join(', ') : "None"}\n`;
            }
        }

        if (sel.value === 'vego') {
            txt += "Contents: 3 Tofu Kimbap, 8 Dumplings, 8 Seaweed Rolls, Salad\n";
        }

        txt += "\n";
        idx++;
    });

    txt += `[4. TOTAL PRICE]\n${totalPriceDisplay.textContent.trim()}\n`;

    txt += `\n[5. BANK TRANSFER INSTRUCTIONS]\nOrders A$100+ require bank transfer. Email receipt to adm.sinjeon.melb@gmail.com.\n`;

    return txt;
}

submitBtn.addEventListener('click', () => {
    const txt = collectOrderDetails();
    if (!txt) return; // ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ì‹œ(null ë°˜í™˜) ì´ë©”ì¼ ì•± ì‹¤í–‰ ì•ˆ í•¨

    const mail = `mailto:adm.sinjeon.melb@gmail.com?subject=${encodeURIComponent(
        "New Catering Order"
    )}&body=${encodeURIComponent(txt)}`;

    window.location.href = mail;
    alert("Your email app should now open with the order details. Please send it to complete your order.");
});
</script>

</body>
</html>